<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>WORD GAME</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100;200;300;400;500;700;800;900&family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet" />
        <link rel="stylesheet" href="../css/reset.css" />
        <link rel="stylesheet" href="../css/layout.css" />
        <link rel="stylesheet" href="../css/word.css" />
    </head>
    <body>
        <div class="wrap">
            <h1>
                <span class="main">WORD GAME</span>
            </h1>
            <div id="suggestWord"></div>
            <div id="inputBox">
                <input type="text" name="" id="typing" />
            </div>
            <div class="score"></div>
            <button class="reset" onclick="window.location.reload( )">다시하기</button>
            <div class="test">
                <a href=""></a>
            </div>
            <input type="text" id="userID" placeholder="아이디 8자 이상" />
            <p class="info"></p>
        </div>
    </body>
    <script>
        const words = `아득한 고층 아파트 위 태양이 가슴을 쥐어뜯으며 낮달 옆에서 어찌할 바를 모른다 치욕에 관한 한 세상은 멸망한 지 오래다 가끔 슬픔 없이 십오 초 정도가 지난다 가능한 모든 변명들을 대면서 길들이 사방에서 휘고 있다 그림자 거뭇한 길가에 쌓이는 침묵 거기서 초 단위로 조용히 늙고 싶다 늙어가는 모든 존재는 비가 샌다 비가 새는 모든 늙은 존재들이 새 지붕을 얹듯 사랑을 꿈꾼다 누구나 잘 안다 이렇게 된 것은 이렇게 될 수밖에 없었던 것이다 태양이 온 힘을 다해 빛을 쥐어짜내는 오후 과거가 뒷걸음질 치다 아파트 난간 아래로 떨어진다 미래도 곧이어 그 뒤를 따른다 현재는 다만 꽃의 나날 꽃의 나날은 꽃이 피고 지는 시간이어서 슬프다 고양이가 꽃잎을 냠냠 뜯어먹고 있다 여자가 카모밀 차를 홀짝거리고 있다 고요하고 평화로운 듯도 하다 나는 길 가운데 우두커니 서 있다 남자가 울면서 자전거를 타고 지나간다 궁극적으로 넘어질 운명의 인간이다 현기증이 만발하는 머릿속 꿈동산 이제 막 슬픔 없이 십오 초 정도가 지났다 어디로든 발걸음을 옮겨야 하겠으나 어디로든 끝간에는 사라지는 길이다`;
        const wordList = words.split(" ");
        console.log(wordList);
        const suggestWord = document.querySelector("#suggestWord");
        const typing = document.querySelector("#typing");
        const scoreTxt = document.querySelector(".score");
        const btnReset = document.querySelector(".btn");
        let score = 0;

        let randomTxt = wordList[Math.floor(Math.random() * wordList.length)];
        // console.log(randomTxt);
        suggestWord.textContent = randomTxt;

        //console.log(wordList[randomTxt]);
        typing.focus();
        typing.addEventListener("keyup", function (e) {
            //console.log(e.key);
            if (e.key === "Enter") {
                //console.log("enter 누름");
                console.log(typing.value);
                if (typing.value === randomTxt) {
                    randomTxt = wordList[Math.floor(Math.random() * wordList.length)];
                    suggestWord.textContent = randomTxt;
                    typing.value = "";
                    score++;
                    console.log(score);
                    scoreTxt.innerHTML = "점수 : " + score;
                }
            }
        });
        scoreTxt.innerHTML = "점수 : " + score;

        const testTxt = "javascript를 배우고 있습니다. 아직 많이 어렵습니다";
        console.log(testTxt.substr(0, 4));
        const testA = document.querySelector(".test a");
        testA.textContent = testTxt.trim().substr(0, 20) + "..."; //substr() -> 지정한 글자 개수까지만 표시
        console.log(testTxt.length); // 글자의 갯수
        // trim(). -> 글자의 공백을 잘라냄
        console.log(testTxt.charAt(1)); //해당되는 번호의 글자를 보여줌 = substr과 동일함 = testTxt.substr(0,1)
        console.log(testTxt.charAt(testTxt.length - 1));

        const userID = document.querySelector("#userID");
        const info = document.querySelector(".info");
        userID.addEventListener("keyup", function (e) {
            if (userID.value.length < 8) {
                info.textContent = "ID가 8글자가 되지 않습니다";
            } else {
                info.textContent = "ID가 8글자가 되었습니다.";
            }
            if (e.keyCode === 13 || e.key === "Enter") {
                if (userID.value.length < 8) {
                    alert("아이디는 8자 이상 써야 합니다.");
                }
            }
        });
    </script>
</html>
